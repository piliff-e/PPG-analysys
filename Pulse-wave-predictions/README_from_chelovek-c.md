# /scripts

```
scripts
├── bad_segment_detector.py  - поиск "плохих" сегментов методом эллипсов
├── forecasting_original.py  - изначальный код с моделью Максима
├── forecasting.py           - тот же код Максима, но разбитый на функции (работает так же)
├── main.py                  - объединяет forecasting.py и replace.py в итоговый алгоритм
├── main_2.py                - то же, но обновлённое для использования bad_segment_detector.py
├── replace.py               - код Филиппа, заменяющий "плохие" сегменты на "хорошие"
├── shared.py                - содержит функции, общие для разных программ (пока только load_ppg)
├── test.py
├── test2.py                 - тесты для метода эллипсов (работает странно)
└── test3.py
```

- Вообще хз, как работает метод эллипсов в `bad_segment_detector.py`...

- Модель в `forecasting.py` не сохраняет кэш, поэтому тратит много времени и ресурсов компьтера.

- Алгоритм в `main.py` пока что работает некорректно: строится предсказание длины K по всему файлу длины N (N >> K), и оно сравнивается с оригиналом. В итоге "плохие" места находятся только в первых 4-х секундах записи из 600 (!), причём предлагаемые замены ("хорошие" места из предсказания) почти всегда просто заменяют значение в оригинальной точке на 0 или около того (см. график в результате работы программы). По изначальной задумке сравнение оригинала с предсказаниями должно происходить как бы кусками по длине всего файла.
